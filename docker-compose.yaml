version: '3.8'

services:
  gateway:
    build:
      context: .
      dockerfile: Dockerfile.gateway
    ports:
      - "3808:3808" # Host 3808 -> Container 3808
    volumes:
      - ./agents:/app/agents
      - ./config.json:/app/config.json
      - ./sessions:/app/sessions
      - ./tools:/app/tools
      - ./workspace:/app/workspace
      - ~/logs:/app/logs
    restart: unless-stopped

  gateway-ui:
    build:
      context: ./ui
      dockerfile: Dockerfile
    ports:
      - "3000:80" # Host 3000 -> UI Nginx 80
    restart: unless-stopped
